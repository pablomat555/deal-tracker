2025-06-19 18:37:44 - __main__ - INFO - Запуск Telegram бота...
2025-06-19 18:37:44 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-19 18:37:44 - telegram.ext.Application - INFO - Application started
2025-06-19 18:39:50 - trade_logger - INFO - Начало логирования движения средств. MoveID: fb700eb7-1584-4e1c-984b-9104e319db6e, DEPOSIT 1000 USDT
2025-06-19 18:39:53 - trade_logger - INFO - Движение средств успешно залогировано. MoveID: fb700eb7-1584-4e1c-984b-9104e319db6e, DEPOSIT 1000 USDT
2025-06-19 18:40:02 - trade_logger - INFO - Начало логирования сделки. TradeID: 4c7fe003-2843-4dd7-adc5-0f184214037d, BUY 3.7382681 SOL/USDT @ 133.61 on binance
2025-06-19 18:40:07 - trade_logger - INFO - Создание новой позиции BUY для SOL/USDT.
2025-06-19 18:40:08 - trade_logger - INFO - Сделка успешно залогирована. TradeID: 4c7fe003-2843-4dd7-adc5-0f184214037d, BUY 3.7382681 SOL/USDT @ 133.61 on binance
2025-06-19 18:40:20 - trade_logger - INFO - Начало логирования сделки. TradeID: 2ac2b868-e790-4a93-b5c1-af8e17cec469, SELL 3.7382681 SOL/USDT @ 142.33 on binance
2025-06-19 18:40:20 - trade_logger - INFO - Для продажи SOL/USDT рассчитан предварительный PNL: 32.597697832
2025-06-19 18:40:24 - trade_logger - INFO - Обновление позиции SELL для SOL/USDT. Новый объем: 0.00173
2025-06-19 18:40:24 - trade_logger - INFO - Сделка успешно залогирована. TradeID: 2ac2b868-e790-4a93-b5c1-af8e17cec469, SELL 3.7382681 SOL/USDT @ 142.33 on binance
2025-06-19 18:40:33 - trade_logger - INFO - Начало логирования сделки. TradeID: e51dac83-2643-47d3-b8d2-07721b4bae87, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-19 18:40:35 - sheets_service - ERROR - Ошибка доступа к листу 'Open_Positions': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-19 18:40:35 - sheets_service - ERROR - Ошибка доступа к листу 'Account_Balances': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-19 18:40:35 - trade_logger - INFO - Сделка успешно залогирована. TradeID: e51dac83-2643-47d3-b8d2-07721b4bae87, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-19 18:40:40 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-19 18:40:40 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-19 18:40:40 - sheets_service - ERROR - Ошибка доступа к листу 'Core_Trades': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-19 18:40:40 - sheets_service - ERROR - Ошибка доступа к листу 'Fifo_Log': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-19 18:40:40 - sheets_service - ERROR - Ошибка доступа к листу 'Open_Positions': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-19 18:40:40 - sheets_service - ERROR - Ошибка доступа к листу 'Fund_Movements': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-19 18:40:40 - sheets_service - ERROR - Ошибка доступа к листу 'Analytics': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-19 19:09:09 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-19 19:09:09 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-19 19:12:43 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-19 19:12:43 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 07:09:57 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 07:09:57 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 07:09:57 - __main__ - INFO - Бот остановлен.
2025-06-22 07:09:59 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 07:09:59 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 07:09:59 - telegram.ext.Application - INFO - Application started
2025-06-22 07:39:25 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 07:39:25 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 07:39:25 - telegram.ext.Application - INFO - Application started
2025-06-22 07:44:37 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:bybit']
2025-06-22 07:44:37 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 07:44:37 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 80dd9f32-b44c-4475-a11a-0aca47920a08
2025-06-22 07:44:37 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для добавления движения...
2025-06-22 07:44:37 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 07:44:38 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для обновления балансов...
2025-06-22 07:44:40 - trade_logger - INFO - [LOGGER] Движение средств 80dd9f32-b44c-4475-a11a-0aca47920a08 успешно залогировано.
2025-06-22 07:48:30 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '1000', 'dest_name:binance', 'date:20240213']
2025-06-22 07:48:30 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 07:48:30 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 6256c557-bc82-4ee3-aa87-1364aae16d80
2025-06-22 07:48:30 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для добавления движения...
2025-06-22 07:48:30 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 07:48:31 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для обновления балансов...
2025-06-22 07:48:32 - trade_logger - INFO - [LOGGER] Движение средств 6256c557-bc82-4ee3-aa87-1364aae16d80 успешно залогировано.
2025-06-22 07:48:45 - trade_logger - INFO - Начало логирования сделки. TradeID: 27e87008-bbb9-4c74-b4ab-6e45fb158edb, BUY 3.7382681 SOL/USDT @ 133.61 on binance
2025-06-22 07:48:50 - trade_logger - INFO - Создание новой позиции BUY для SOL/USDT.
2025-06-22 07:48:50 - trade_logger - INFO - Сделка успешно залогирована. TradeID: 27e87008-bbb9-4c74-b4ab-6e45fb158edb, BUY 3.7382681 SOL/USDT @ 133.61 on binance
2025-06-22 07:49:03 - trade_logger - INFO - Начало логирования сделки. TradeID: b116915a-648a-4cc9-99db-553ec3ee398a, SELL 3.7382681 SOL/USDT @ 142.33 on binance
2025-06-22 07:49:03 - trade_logger - INFO - Для продажи SOL/USDT рассчитан предварительный PNL: 32.597697832
2025-06-22 07:49:07 - trade_logger - INFO - Закрытие позиции SOL/USDT на binance (баланс 0.00). Удаление строки 2.
2025-06-22 07:49:07 - trade_logger - INFO - Сделка успешно залогирована. TradeID: b116915a-648a-4cc9-99db-553ec3ee398a, SELL 3.7382681 SOL/USDT @ 142.33 on binance
2025-06-22 07:49:20 - trade_logger - INFO - Начало логирования сделки. TradeID: 1a2a758e-e9e5-4ecf-bf80-06d168c72171, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-22 07:49:23 - trade_logger - INFO - Создание новой позиции BUY для PROM/USDT.
2025-06-22 07:49:24 - trade_logger - INFO - Сделка успешно залогирована. TradeID: 1a2a758e-e9e5-4ecf-bf80-06d168c72171, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-22 07:51:13 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 07:51:13 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 08:04:52 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 08:04:52 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 08:10:27 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 08:10:27 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 08:13:34 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 08:13:34 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 08:13:34 - __main__ - INFO - Бот остановлен.
2025-06-22 08:13:34 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 08:13:35 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 08:13:35 - telegram.ext.Application - INFO - Application started
2025-06-22 08:14:17 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:bybit']
2025-06-22 08:14:17 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:14:17 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 849b9001-cb20-4c08-bee6-7d2d60ed8ec0
2025-06-22 08:14:17 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для добавления движения...
2025-06-22 08:14:17 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:14:18 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для обновления балансов...
2025-06-22 08:14:20 - trade_logger - INFO - [LOGGER] Движение средств 849b9001-cb20-4c08-bee6-7d2d60ed8ec0 успешно залогировано.
2025-06-22 08:14:31 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '1000', 'dest_name:binance', 'date:20240213']
2025-06-22 08:14:31 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:14:31 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 0429aaa7-ca26-4657-be76-40e7fb066255
2025-06-22 08:14:31 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для добавления движения...
2025-06-22 08:14:31 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:14:31 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для обновления балансов...
2025-06-22 08:14:32 - trade_logger - INFO - [LOGGER] Движение средств 0429aaa7-ca26-4657-be76-40e7fb066255 успешно залогировано.
2025-06-22 08:14:41 - trade_logger - INFO - Начало логирования сделки. TradeID: 9b8f8149-269e-4667-b363-7e392dabd032, BUY 3.7382681 SOL/USDT @ 133.61 on binance
2025-06-22 08:14:46 - trade_logger - INFO - Создание новой позиции BUY для SOL/USDT.
2025-06-22 08:14:46 - trade_logger - INFO - Сделка успешно залогирована. TradeID: 9b8f8149-269e-4667-b363-7e392dabd032, BUY 3.7382681 SOL/USDT @ 133.61 on binance
2025-06-22 08:14:59 - trade_logger - INFO - Начало логирования сделки. TradeID: 6e0177ca-5371-42bb-a10d-aec9b4a221bb, SELL 3.7382681 SOL/USDT @ 142.33 on binance
2025-06-22 08:14:59 - trade_logger - INFO - Для продажи SOL/USDT рассчитан предварительный PNL: 32.597697832
2025-06-22 08:15:02 - trade_logger - INFO - Закрытие позиции SOL/USDT на binance (баланс 0.00). Удаление строки 2.
2025-06-22 08:15:03 - trade_logger - INFO - Сделка успешно залогирована. TradeID: 6e0177ca-5371-42bb-a10d-aec9b4a221bb, SELL 3.7382681 SOL/USDT @ 142.33 on binance
2025-06-22 08:15:17 - trade_logger - INFO - Начало логирования сделки. TradeID: 57bd158f-1e00-4e1c-abbe-9723a2a6f7ec, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-22 08:15:17 - sheets_service - ERROR - Ошибка доступа к листу 'Account_Balances': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-22 08:15:17 - trade_logger - WARNING - Проверка баланса: НЕ ОК. binance/USDT. Требуется: 69.6099999678, Доступно: 0
2025-06-22 08:15:39 - trade_logger - INFO - Начало логирования сделки. TradeID: 4c147b52-0aed-4922-b2ca-9f16406bc716, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-22 08:15:39 - sheets_service - ERROR - Ошибка при чтении данных с листа 'Account_Balances': APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/deal_tracker/sheets_service.py", line 213, in get_all_records
    all_values = sheet.get_all_values()[1:]
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/gspread/worksheet.py", line 485, in get_all_values
    return self.get_values(
           ^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/gspread/worksheet.py", line 462, in get_values
    return self.get(
           ^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/gspread/worksheet.py", line 954, in get
    response = self.client.values_get(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/gspread/http_client.py", line 236, in values_get
    r = self.request("get", url, params=params)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/gspread/http_client.py", line 128, in request
    raise APIError(response)
gspread.exceptions.APIError: APIError: [429]: Quota exceeded for quota metric 'Read requests' and limit 'Read requests per minute per user' of service 'sheets.googleapis.com' for consumer 'project_number:10974951354'.
2025-06-22 08:15:39 - trade_logger - WARNING - Проверка баланса: НЕ ОК. binance/USDT. Требуется: 69.6099999678, Доступно: 0
2025-06-22 08:17:09 - trade_logger - INFO - Начало логирования сделки. TradeID: b8b6b553-fe14-466d-9808-ffd64736cd15, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-22 08:17:09 - trade_logger - WARNING - Проверка баланса: НЕ ОК. binance/USDT. Требуется: 69.6099999678, Доступно: 0
2025-06-22 08:17:37 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '1000', 'dest_name:binance', 'date:20240213']
2025-06-22 08:17:37 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:17:37 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 93bf9343-c019-45e9-af0e-df366f024b32
2025-06-22 08:17:37 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для добавления движения...
2025-06-22 08:17:37 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:17:38 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для обновления балансов...
2025-06-22 08:17:39 - trade_logger - INFO - [LOGGER] Движение средств 93bf9343-c019-45e9-af0e-df366f024b32 успешно залогировано.
2025-06-22 08:17:51 - trade_logger - INFO - Начало логирования сделки. TradeID: 0ff0aa08-91c5-4ae8-897e-3ead8d5692fb, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-22 08:17:51 - trade_logger - WARNING - Проверка баланса: НЕ ОК. binance/USDT. Требуется: 69.6099999678, Доступно: 0
2025-06-22 08:18:12 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance', 'date:20240213']
2025-06-22 08:18:12 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:18:12 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 7811559b-2256-40fa-b7bc-26de43e21521
2025-06-22 08:18:12 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для добавления движения...
2025-06-22 08:18:12 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:18:13 - trade_logger - INFO - [LOGGER] Обращаюсь к sheets_service для обновления балансов...
2025-06-22 08:18:14 - trade_logger - INFO - [LOGGER] Движение средств 7811559b-2256-40fa-b7bc-26de43e21521 успешно залогировано.
2025-06-22 08:18:25 - trade_logger - INFO - Начало логирования сделки. TradeID: e5ad09da-f005-4aeb-8e87-a5ee5f33eef2, BUY 5.86436394 PROM/USDT @ 11.87 on binance
2025-06-22 08:18:26 - trade_logger - WARNING - Проверка баланса: НЕ ОК. binance/USDT. Требуется: 69.6099999678, Доступно: 0
2025-06-22 08:28:16 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 08:28:16 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 08:28:16 - __main__ - INFO - Бот остановлен.
2025-06-22 08:28:16 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 08:28:16 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 08:28:16 - telegram.ext.Application - INFO - Application started
2025-06-22 08:30:01 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance', 'date:20240213']
2025-06-22 08:30:01 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:30:01 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 8ef56735-813b-4a44-9789-eebde7566149
2025-06-22 08:30:01 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:30:05 - trade_logger - INFO - [LOGGER] Движение средств 8ef56735-813b-4a44-9789-eebde7566149 успешно залогировано.
2025-06-22 08:30:17 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:bybit']
2025-06-22 08:30:17 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:30:17 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 8c14842a-5f73-4622-9fdd-f92f076fa2ba
2025-06-22 08:30:17 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:30:20 - trade_logger - INFO - [LOGGER] Движение средств 8c14842a-5f73-4622-9fdd-f92f076fa2ba успешно залогировано.
2025-06-22 08:31:08 - trade_logger - INFO - [LOGGER] TradeID: a40e6a6d-a0df-41a1-822b-88db57dbdb7b. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 08:31:09 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 97, in buy_command
    await trade_command(update, context, trade_type='BUY')
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 27, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 86, in trade_command
    success, message = log_trade(
                       ^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 67, in log_trade
    if not balance_obj or balance_obj.balance < required_quote:
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NoneType' and 'decimal.Decimal'
2025-06-22 08:31:20 - trade_logger - INFO - [LOGGER] TradeID: eac94562-af86-4978-8d5f-2afc8c99159b. Начало обработки: SELL 3.7382681 SOL/USDT
2025-06-22 08:31:38 - trade_logger - INFO - [LOGGER] TradeID: ac9f12ff-2fa7-46e6-93a6-46c417a04ccb. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 08:31:39 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 97, in buy_command
    await trade_command(update, context, trade_type='BUY')
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 27, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 86, in trade_command
    success, message = log_trade(
                       ^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 67, in log_trade
    if not balance_obj or balance_obj.balance < required_quote:
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NoneType' and 'decimal.Decimal'
2025-06-22 08:32:02 - trade_logger - INFO - [LOGGER] TradeID: e0705c97-c63f-4d89-bdec-c794f2aa2ba3. Начало обработки: BUY 5.86436394 PROM/USDT
2025-06-22 08:32:04 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 97, in buy_command
    await trade_command(update, context, trade_type='BUY')
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 27, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 86, in trade_command
    success, message = log_trade(
                       ^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 67, in log_trade
    if not balance_obj or balance_obj.balance < required_quote:
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: '<' not supported between instances of 'NoneType' and 'decimal.Decimal'
2025-06-22 08:41:01 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 08:41:01 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 08:41:01 - __main__ - INFO - Бот остановлен.
2025-06-22 08:41:02 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 08:41:02 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 08:41:02 - telegram.ext.Application - INFO - Application started
2025-06-22 08:41:51 - trade_logger - INFO - [LOGGER] TradeID: 96e82a8f-564a-4e62-8abd-bd78bd9b4dd8. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 08:42:29 - trade_logger - INFO - [LOGGER] TradeID: 739d16fa-9f6e-46d4-ac66-ff49beebffe2. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 08:42:52 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance', 'date:20240213']
2025-06-22 08:42:52 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:42:52 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: b5120ac9-2e9d-438f-9f06-3f86b28058a7
2025-06-22 08:42:52 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:42:54 - trade_logger - INFO - [LOGGER] Движение средств b5120ac9-2e9d-438f-9f06-3f86b28058a7 успешно залогировано.
2025-06-22 08:43:10 - trade_logger - INFO - [LOGGER] TradeID: 0d9beb17-92eb-467d-aeb2-6a222fa649d4. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 08:48:22 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance']
2025-06-22 08:48:22 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:48:22 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 89dee333-373f-415e-91f0-8848f3c2c9c0
2025-06-22 08:48:22 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:48:24 - trade_logger - INFO - [LOGGER] Движение средств 89dee333-373f-415e-91f0-8848f3c2c9c0 успешно залогировано.
2025-06-22 08:58:11 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance']
2025-06-22 08:58:11 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 08:58:11 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: dc6ab14a-d0e9-4d56-b0a6-48d12347b174
2025-06-22 08:58:11 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 08:58:13 - trade_logger - INFO - [LOGGER] Движение средств dc6ab14a-d0e9-4d56-b0a6-48d12347b174 успешно залогировано.
2025-06-22 08:59:07 - trade_logger - INFO - [LOGGER] TradeID: 915fa1fd-0528-479e-a9ea-70c5305caa5c. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 08:59:39 - trade_logger - INFO - [LOGGER] TradeID: b7f2fe92-5e72-42bf-8503-ac5309c1a088. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 09:08:20 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 09:08:20 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 09:08:20 - __main__ - INFO - Бот остановлен.
2025-06-22 09:08:20 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 09:08:20 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 09:08:20 - telegram.ext.Application - INFO - Application started
2025-06-22 09:09:46 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance']
2025-06-22 09:09:46 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 09:09:46 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: fb1eb14e-99f5-4d24-8fab-2e6a9370e01d
2025-06-22 09:09:46 - sheets_service - INFO - [SHEETS] Попытка добавления записи в лист Fund_Movements
2025-06-22 09:09:48 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 09:09:49 - sheets_service - INFO - [SHEETS_BALANCE] Загружено 0 существующих балансов.
2025-06-22 09:09:49 - sheets_service - INFO - [SHEETS_BALANCE] Подготовлено добавление для ('binance', 'USDT'): баланс 10000
2025-06-22 09:09:49 - sheets_service - INFO - [SHEETS_BALANCE] Пакет на ДОБАВЛЕНИЕ содержит 1 строк.
2025-06-22 09:09:49 - sheets_service - INFO - [SHEETS_BALANCE] Обновление балансов успешно завершено.
2025-06-22 09:09:49 - trade_logger - INFO - [LOGGER] Движение средств fb1eb14e-99f5-4d24-8fab-2e6a9370e01d успешно залогировано.
2025-06-22 09:10:04 - trade_logger - INFO - [LOGGER] TradeID: e6b4d715-027c-4646-87af-71f780fa1b01. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 09:41:19 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 09:41:19 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 09:41:19 - __main__ - INFO - Бот остановлен.
2025-06-22 09:41:19 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 09:41:19 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 09:41:19 - telegram.ext.Application - INFO - Application started
2025-06-22 09:42:02 - trade_logger - INFO - [LOGGER] TradeID: 9a002de3-7acd-4d60-ab14-7ae6522020a1. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 09:42:02 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 09:42:03 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 09:42:32 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance']
2025-06-22 09:42:32 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 09:42:32 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 105468d8-43c4-40fb-b132-38e6ecb5a063
2025-06-22 09:42:33 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 09:42:33 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 09:42:34 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 09:42:34 - trade_logger - INFO - [LOGGER] Движение средств 105468d8-43c4-40fb-b132-38e6ecb5a063 успешно залогировано.
2025-06-22 09:43:02 - trade_logger - INFO - [LOGGER] TradeID: c62b0708-6a0b-4df8-8252-17d4ef249ad3. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 09:43:02 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 09:43:02 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 10:10:44 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 10:10:44 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 10:10:44 - __main__ - INFO - Бот остановлен.
2025-06-22 10:10:45 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 10:10:45 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 10:10:45 - telegram.ext.Application - INFO - Application started
2025-06-22 10:11:04 - trade_logger - INFO - [LOGGER] TradeID: 85ecdec2-22c3-44ad-9bd4-8be56171c4ee. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 10:11:04 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 10:11:06 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 10:15:52 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 10:15:52 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 10:15:52 - telegram.ext.Application - INFO - Application started
2025-06-22 10:18:17 - trade_logger - INFO - [LOGGER] TradeID: 011a9dcb-504b-486b-b7d0-5d2078da20ae. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 10:18:17 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 10:18:18 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 10:25:08 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 10:25:08 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 10:25:08 - __main__ - INFO - Бот остановлен.
2025-06-22 10:25:09 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 10:25:09 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 10:25:09 - telegram.ext.Application - INFO - Application started
2025-06-22 10:25:40 - trade_logger - INFO - [LOGGER] TradeID: 5931276c-734c-4477-b069-ab9fc516d617. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 10:25:40 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 10:25:42 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 10:25:44 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 10:25:44 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 10:25:45 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 10:25:45 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 10:25:45 - trade_logger - INFO - [LOGGER] TradeID: 5931276c-734c-4477-b069-ab9fc516d617. Сделка успешно залогирована.
2025-06-22 10:27:46 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '12', '000,50', 'USD', 'dest_name:binance']
2025-06-22 10:27:46 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 10:27:46 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 72a0a35d-2e7b-40da-84f3-0c8702e63dd5
2025-06-22 10:27:48 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 10:27:48 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 10:27:49 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 10:27:49 - trade_logger - INFO - [LOGGER] Движение средств 72a0a35d-2e7b-40da-84f3-0c8702e63dd5 успешно залогировано.
2025-06-22 10:45:10 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 10:45:10 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 10:45:10 - __main__ - INFO - Бот остановлен.
2025-06-22 10:45:11 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 10:45:11 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 10:45:11 - telegram.ext.Application - INFO - Application started
2025-06-22 10:45:29 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 10:45:29 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 10:45:29 - __main__ - INFO - Бот остановлен.
2025-06-22 10:45:30 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 10:45:31 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 10:45:31 - telegram.ext.Application - INFO - Application started
2025-06-22 10:46:05 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '12', '000,50', 'USD', 'dest_name:binance']
2025-06-22 10:46:05 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 10:46:05 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 9719aae9-7b0f-4da8-bdce-f23c5cbe1731
2025-06-22 10:46:06 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 10:46:06 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 10:46:08 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 10:46:08 - trade_logger - INFO - [LOGGER] Движение средств 9719aae9-7b0f-4da8-bdce-f23c5cbe1731 успешно залогировано.
2025-06-22 10:54:27 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 10:54:27 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 10:54:27 - __main__ - INFO - Бот остановлен.
2025-06-22 10:54:28 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 10:54:28 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 10:54:28 - telegram.ext.Application - INFO - Application started
2025-06-22 10:54:44 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '12', '000,50', 'USD', 'dest_name:binance']
2025-06-22 10:54:44 - telegram_handlers - INFO - [HANDLER] Аргументы после обработки: ['USDT', '12 000,50', 'USD', 'dest_name:binance']
2025-06-22 10:54:44 - utils - WARNING - Не удалось преобразовать строку '12 000,50' в Decimal.
2025-06-22 11:07:30 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 11:07:30 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 11:07:30 - telegram.ext.Application - INFO - Application started
2025-06-22 11:07:30 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '12', '000,50', 'USD', 'dest_name:binance']
2025-06-22 11:07:30 - telegram_handlers - INFO - [HANDLER] Аргументы после обработки: ['USDT', '12 000,50', 'USD', 'dest_name:binance']
2025-06-22 11:07:30 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 11:07:30 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: b256a033-ba9d-4ac9-8834-e67c65754d77
2025-06-22 11:07:32 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 11:07:33 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 11:07:35 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 11:07:35 - trade_logger - INFO - [LOGGER] Движение средств b256a033-ba9d-4ac9-8834-e67c65754d77 успешно залогировано.
2025-06-22 11:07:35 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '12', '000,50', 'USD', 'dest_name:binance']
2025-06-22 11:07:35 - telegram_handlers - INFO - [HANDLER] Аргументы после обработки: ['USDT', '12 000,50', 'USD', 'dest_name:binance']
2025-06-22 11:07:35 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 11:07:35 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: b18f8cf5-3c00-4cb7-9459-ac0013faa98c
2025-06-22 11:07:35 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 11:07:35 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 11:07:36 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 11:07:36 - trade_logger - INFO - [LOGGER] Движение средств b18f8cf5-3c00-4cb7-9459-ac0013faa98c успешно залогировано.
2025-06-22 11:07:36 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '12', '000,50', 'USD', 'dest_name:binance']
2025-06-22 11:07:36 - telegram_handlers - INFO - [HANDLER] Аргументы после обработки: ['USDT', '12 000,50', 'USD', 'dest_name:binance']
2025-06-22 11:07:36 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 11:07:36 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: ace20931-3954-45d8-b7ff-4699dcef0948
2025-06-22 11:07:37 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 11:07:37 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 11:07:38 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 11:07:38 - trade_logger - INFO - [LOGGER] Движение средств ace20931-3954-45d8-b7ff-4699dcef0948 успешно залогировано.
2025-06-22 11:07:38 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance']
2025-06-22 11:07:38 - telegram_handlers - INFO - [HANDLER] Аргументы после обработки: ['USDT', '10000', 'dest_name:binance']
2025-06-22 11:07:38 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 11:07:38 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 0809177c-a65a-40f7-aad0-f9d4dc016eb8
2025-06-22 11:07:39 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 11:07:39 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 11:07:40 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 11:07:40 - trade_logger - INFO - [LOGGER] Движение средств 0809177c-a65a-40f7-aad0-f9d4dc016eb8 успешно залогировано.
2025-06-22 11:10:01 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 11:10:01 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 11:10:01 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 11:10:03 - sheets_service - INFO - [API_CALL] Кэш для 'Fifo_Log' пуст или устарел. Запрос к Google API...
2025-06-22 11:10:04 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 11:10:05 - sheets_service - INFO - [API_CALL] Кэш для 'Fund_Movements' пуст или устарел. Запрос к Google API...
2025-06-22 11:10:05 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 64, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 281, in update_analytics_command
    success, message = analytics_service.calculate_and_update_analytics_sheet()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/analytics_service.py", line 153, in calculate_and_update_analytics_sheet
    realized_pnl, unrealized_pnl, net_pnl = _calculate_pnl_metrics(
                                            ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/analytics_service.py", line 18, in _calculate_pnl_metrics
    total_unrealized = sum(
                       ^^^^
TypeError: unsupported operand type(s) for +: 'decimal.Decimal' and 'str'
2025-06-22 11:23:32 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 11:23:32 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 11:23:32 - __main__ - INFO - Бот остановлен.
2025-06-22 11:23:33 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 11:23:33 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 11:23:33 - telegram.ext.Application - INFO - Application started
2025-06-22 11:23:48 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 11:23:48 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 11:23:48 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 11:23:50 - sheets_service - INFO - [API_CALL] Кэш для 'Fifo_Log' пуст или устарел. Запрос к Google API...
2025-06-22 11:23:51 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 11:23:52 - sheets_service - INFO - [API_CALL] Кэш для 'Fund_Movements' пуст или устарел. Запрос к Google API...
2025-06-22 11:23:54 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 64, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 281, in update_analytics_command
    success, message = analytics_service.calculate_and_update_analytics_sheet()
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/analytics_service.py", line 159, in calculate_and_update_analytics_sheet
    realized_pnl, unrealized_pnl, net_pnl = _calculate_pnl_metrics(
                                            ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/analytics_service.py", line 20, in _calculate_pnl_metrics
    total_unrealized = sum(
                       ^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/analytics_service.py", line 21, in <genexpr>
    Decimal(pos.unrealized_pnl) if not isinstance(
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
decimal.InvalidOperation: [<class 'decimal.ConversionSyntax'>]
2025-06-22 11:28:33 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 11:28:33 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 11:28:33 - __main__ - INFO - Бот остановлен.
2025-06-22 11:28:34 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 11:28:34 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 11:28:34 - telegram.ext.Application - INFO - Application started
2025-06-22 11:28:49 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 11:28:49 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 11:28:49 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 11:28:51 - sheets_service - INFO - [API_CALL] Кэш для 'Fifo_Log' пуст или устарел. Запрос к Google API...
2025-06-22 11:28:52 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 11:28:53 - sheets_service - INFO - [API_CALL] Кэш для 'Fund_Movements' пуст или устарел. Запрос к Google API...
2025-06-22 11:28:54 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Core_Trades'.
2025-06-22 11:28:56 - analytics_service - INFO - Аналитика успешно обновлена. Нет новых продаж для FIFO обработки.
2025-06-22 13:58:57 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '100', 'dest_name:binance', 'date:20240213']
2025-06-22 13:58:57 - telegram_handlers - INFO - [HANDLER] Аргументы после обработки: ['USDT', '100', 'dest_name:binance', 'date:20240213']
2025-06-22 13:58:57 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 13:58:57 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 78b3deef-2f3d-4687-8acf-70b26b6a6381
2025-06-22 13:58:58 - sheets_service - INFO - [CACHE] Кэш для листа 'Fund_Movements' очищен.
2025-06-22 13:58:58 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 13:58:59 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 13:59:01 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 13:59:01 - trade_logger - INFO - [LOGGER] Движение средств 78b3deef-2f3d-4687-8acf-70b26b6a6381 успешно залогировано.
2025-06-22 13:59:13 - telegram_handlers - INFO - [HANDLER] Получена команда /deposit с аргументами: ['USDT', '10000', 'dest_name:binance', 'date:20240213']
2025-06-22 13:59:13 - telegram_handlers - INFO - [HANDLER] Аргументы после обработки: ['USDT', '10000', 'dest_name:binance', 'date:20240213']
2025-06-22 13:59:13 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 13:59:13 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: 02e1488b-7011-4398-946e-2ee7b9ab3435
2025-06-22 13:59:14 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 13:59:14 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 13:59:15 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 13:59:15 - trade_logger - INFO - [LOGGER] Движение средств 02e1488b-7011-4398-946e-2ee7b9ab3435 успешно залогировано.
2025-06-22 14:00:20 - telegram_handlers - INFO - [HANDLER] Получена команда /withdrawal с аргументами: ['USDT', '500', 'source_name:binance', 'date:20240805', "notes:'покупка", "техники'"]
2025-06-22 14:00:20 - telegram_handlers - INFO - [HANDLER] Аргументы после обработки: ['USDT', '500', 'source_name:binance', 'date:20240805', "notes:'покупка", "техники'"]
2025-06-22 14:00:20 - telegram_handlers - INFO - [HANDLER] Данные подготовлены. Вызываю log_fund_movement...
2025-06-22 14:00:20 - trade_logger - INFO - [LOGGER] Начало логирования движения средств. MoveID: f7779e73-acc3-41ff-b014-2aad6bd6fb8d
2025-06-22 14:00:20 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:00:22 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 1 изменений.
2025-06-22 14:00:22 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:00:22 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:00:22 - trade_logger - INFO - [LOGGER] Движение средств f7779e73-acc3-41ff-b014-2aad6bd6fb8d успешно залогировано.
2025-06-22 14:01:36 - trade_logger - INFO - [LOGGER] TradeID: a77ae40b-47ab-491c-8aab-249b46132cb3. Начало обработки: BUY 7.96384584 AVAX/USDT
2025-06-22 14:01:36 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:01:37 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:01:38 - sheets_service - INFO - [CACHE] Кэш для листа 'Core_Trades' очищен.
2025-06-22 14:01:38 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:01:38 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:01:39 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:01:39 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:01:39 - trade_logger - INFO - [LOGGER] TradeID: a77ae40b-47ab-491c-8aab-249b46132cb3. Сделка успешно залогирована.
2025-06-22 14:02:33 - trade_logger - INFO - [LOGGER] TradeID: 090422fb-3cb4-4201-81ac-7eab33d25e5d. Начало обработки: BUY 7.95771838 AVAX/USDT
2025-06-22 14:02:33 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:02:34 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:02:35 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:02:35 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:02:35 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:02:36 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:02:36 - trade_logger - INFO - [LOGGER] TradeID: 090422fb-3cb4-4201-81ac-7eab33d25e5d. Сделка успешно залогирована.
2025-06-22 14:02:52 - trade_logger - INFO - [LOGGER] TradeID: 93932007-77cb-435c-be67-7fa72006d85c. Начало обработки: BUY 4.28536585 AVAX/USDT
2025-06-22 14:02:52 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:02:52 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:02:53 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:02:54 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:02:54 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:02:54 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:02:54 - trade_logger - INFO - [LOGGER] TradeID: 93932007-77cb-435c-be67-7fa72006d85c. Сделка успешно залогирована.
2025-06-22 14:03:30 - trade_logger - INFO - [LOGGER] TradeID: 5384cf1d-9f3d-4586-b7d9-1a838adb3147. Начало обработки: BUY 26.38965153 AVAX/USDT
2025-06-22 14:03:30 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:03:30 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:03:31 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:03:32 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:03:32 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:03:33 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:03:33 - trade_logger - INFO - [LOGGER] TradeID: 5384cf1d-9f3d-4586-b7d9-1a838adb3147. Сделка успешно залогирована.
2025-06-22 14:04:23 - trade_logger - INFO - [LOGGER] TradeID: 20912883-7393-4835-8d52-76fa58839c70. Начало обработки: BUY 23.60059121 AVAX/USDT
2025-06-22 14:04:23 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:04:24 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:04:25 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:04:25 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:04:26 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:04:26 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:04:26 - trade_logger - INFO - [LOGGER] TradeID: 20912883-7393-4835-8d52-76fa58839c70. Сделка успешно залогирована.
2025-06-22 14:05:07 - trade_logger - INFO - [LOGGER] TradeID: 3905df44-5f49-4cd7-bcce-edbf88840a81. Начало обработки: BUY 669.11636 TRX/USDT
2025-06-22 14:05:07 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:05:07 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:05:08 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:05:09 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:05:09 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:05:10 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:05:10 - trade_logger - INFO - [LOGGER] TradeID: 3905df44-5f49-4cd7-bcce-edbf88840a81. Сделка успешно залогирована.
2025-06-22 14:05:26 - trade_logger - INFO - [LOGGER] TradeID: 71c63f8c-b4fd-4c5e-b9ef-b64907bcfa38. Начало обработки: BUY 641.036585 TRX/USDT
2025-06-22 14:05:26 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:05:27 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:05:28 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:05:28 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:05:29 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:05:29 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:05:29 - trade_logger - INFO - [LOGGER] TradeID: 71c63f8c-b4fd-4c5e-b9ef-b64907bcfa38. Сделка успешно залогирована.
2025-06-22 14:06:47 - trade_logger - INFO - [LOGGER] TradeID: ba2264f6-7307-4757-9573-cc08ac46edb3. Начало обработки: BUY 5.86436394 PROM/USDT
2025-06-22 14:06:47 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:06:48 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:06:49 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:06:49 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:06:50 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:06:50 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:06:50 - trade_logger - INFO - [LOGGER] TradeID: ba2264f6-7307-4757-9573-cc08ac46edb3. Сделка успешно залогирована.
2025-06-22 14:07:04 - trade_logger - INFO - [LOGGER] TradeID: 1e022afd-a529-45a3-8ccb-f571d2111f56. Начало обработки: BUY 3.23039612 PROM/USDT
2025-06-22 14:07:04 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:07:04 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:07:05 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:07:06 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:07:06 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:07:07 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:07:07 - trade_logger - INFO - [LOGGER] TradeID: 1e022afd-a529-45a3-8ccb-f571d2111f56. Сделка успешно залогирована.
2025-06-22 14:08:12 - trade_logger - INFO - [LOGGER] TradeID: d2c8b46a-c628-49e0-9342-e91469b53cfc. Начало обработки: BUY 138.998609 FET/USDT
2025-06-22 14:08:12 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:08:12 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:08:13 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:08:14 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:08:14 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:08:15 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:08:15 - trade_logger - INFO - [LOGGER] TradeID: d2c8b46a-c628-49e0-9342-e91469b53cfc. Сделка успешно залогирована.
2025-06-22 14:08:45 - trade_logger - INFO - [LOGGER] TradeID: 5a0efe9b-9ae3-4351-b53c-52852a76f409. Начало обработки: BUY 104.400696 RAY/USDT
2025-06-22 14:08:45 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:08:46 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:08:47 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:08:47 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:08:48 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:08:48 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:08:48 - trade_logger - INFO - [LOGGER] TradeID: 5a0efe9b-9ae3-4351-b53c-52852a76f409. Сделка успешно залогирована.
2025-06-22 14:09:03 - trade_logger - INFO - [LOGGER] TradeID: 3a764116-529b-4e06-9b37-d34f7b15a062. Начало обработки: BUY 0.1045997 ETH/USDT
2025-06-22 14:09:03 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:09:04 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:09:05 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:09:06 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:09:07 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:09:08 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:09:08 - trade_logger - INFO - [LOGGER] TradeID: 3a764116-529b-4e06-9b37-d34f7b15a062. Сделка успешно залогирована.
2025-06-22 14:09:23 - trade_logger - INFO - [LOGGER] TradeID: 47673365-1594-470f-929d-3d95f86f9c36. Начало обработки: BUY 0.06311935 ETH/USDT
2025-06-22 14:09:23 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:09:23 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:09:24 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:09:25 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:09:25 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:09:26 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:09:26 - trade_logger - INFO - [LOGGER] TradeID: 47673365-1594-470f-929d-3d95f86f9c36. Сделка успешно залогирована.
2025-06-22 14:09:56 - trade_logger - INFO - [LOGGER] TradeID: b5bcdc09-6b22-4f98-8909-d3fdab5e854a. Начало обработки: BUY 34.98953975 TON/USDT
2025-06-22 14:09:56 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:09:57 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:09:58 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:09:58 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:09:59 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:09:59 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:09:59 - trade_logger - INFO - [LOGGER] TradeID: b5bcdc09-6b22-4f98-8909-d3fdab5e854a. Сделка успешно залогирована.
2025-06-22 14:11:35 - trade_logger - INFO - [LOGGER] TradeID: fdef2123-278c-4c2c-8990-b65bb3e7aa42. Начало обработки: BUY 3.7382681 SOL/USDT
2025-06-22 14:11:35 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:11:36 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:11:37 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:11:37 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:11:38 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:11:38 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:11:38 - trade_logger - INFO - [LOGGER] TradeID: fdef2123-278c-4c2c-8990-b65bb3e7aa42. Сделка успешно залогирована.
2025-06-22 14:11:52 - trade_logger - INFO - [LOGGER] TradeID: 27d3371f-2d88-4291-ac9d-72cf87507881. Начало обработки: SELL 3.7382681 SOL/USDT
2025-06-22 14:11:52 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:11:53 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:11:54 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:11:54 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:11:55 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:11:55 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 141, in sell_command
    await trade_command(update, context, trade_type='SELL')
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 64, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 126, in trade_command
    success, message = log_trade(
                       ^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 103, in log_trade
    _sync_open_position(trade, all_positions, all_balances)
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 145, in _sync_open_position
    change = trade.amount if trade.trade_type == 'BUY' else -change
                                                             ^^^^^^
UnboundLocalError: cannot access local variable 'change' where it is not associated with a value
2025-06-22 14:13:08 - trade_logger - INFO - [LOGGER] TradeID: 44f2b25c-0a92-469d-b941-5b8b8e61bb7d. Начало обработки: BUY 5.3648459 LTC/USDT
2025-06-22 14:13:08 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:13:09 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:13:10 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:13:10 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:13:11 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:13:11 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:13:11 - trade_logger - INFO - [LOGGER] TradeID: 44f2b25c-0a92-469d-b941-5b8b8e61bb7d. Сделка успешно залогирована.
2025-06-22 14:13:26 - trade_logger - INFO - [LOGGER] TradeID: 2bd52aad-1d3a-4880-9f1b-607ab893d8ea. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 14:13:26 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:13:27 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:14:43 - trade_logger - INFO - [LOGGER] TradeID: 4a6d40b9-b2a4-42a5-9b8a-8f8a500f1d5f. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 14:14:43 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:14:44 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:15:02 - trade_logger - INFO - [LOGGER] TradeID: 9003c30c-e0ab-4dea-a7a5-cead1d885ae6. Начало обработки: SELL 5.36 LTC/USDT
2025-06-22 14:15:02 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:15:03 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:15:04 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:15:04 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:15:04 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:15:04 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 141, in sell_command
    await trade_command(update, context, trade_type='SELL')
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 64, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 126, in trade_command
    success, message = log_trade(
                       ^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 103, in log_trade
    _sync_open_position(trade, all_positions, all_balances)
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 145, in _sync_open_position
    change = trade.amount if trade.trade_type == 'BUY' else -change
                                                             ^^^^^^
UnboundLocalError: cannot access local variable 'change' where it is not associated with a value
2025-06-22 14:15:44 - trade_logger - INFO - [LOGGER] TradeID: 885fddc2-1ed5-4977-b5c8-d3ece848a228. Начало обработки: BUY 93.0232558 OP/USDT
2025-06-22 14:15:44 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:15:44 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:15:45 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:15:46 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:15:46 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:15:47 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:15:47 - trade_logger - INFO - [LOGGER] TradeID: 885fddc2-1ed5-4977-b5c8-d3ece848a228. Сделка успешно залогирована.
2025-06-22 14:16:18 - trade_logger - INFO - [LOGGER] TradeID: 279eaba1-1bd9-4bb4-bdb4-5f17bf835283. Начало обработки: BUY 93.0232558 OP/USDT
2025-06-22 14:16:18 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:16:18 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:16:19 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:16:20 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:16:20 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:16:21 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:16:21 - trade_logger - INFO - [LOGGER] TradeID: 279eaba1-1bd9-4bb4-bdb4-5f17bf835283. Сделка успешно залогирована.
2025-06-22 14:16:39 - trade_logger - INFO - [LOGGER] TradeID: 7ed15e3f-8658-4dcf-997d-a4cc35a783a4. Начало обработки: SELL 93.0232558 OP/USDT
2025-06-22 14:16:39 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:16:40 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:16:41 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:16:41 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:16:42 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:16:42 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 141, in sell_command
    await trade_command(update, context, trade_type='SELL')
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 64, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 126, in trade_command
    success, message = log_trade(
                       ^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 103, in log_trade
    _sync_open_position(trade, all_positions, all_balances)
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 145, in _sync_open_position
    change = trade.amount if trade.trade_type == 'BUY' else -change
                                                             ^^^^^^
UnboundLocalError: cannot access local variable 'change' where it is not associated with a value
2025-06-22 14:16:51 - trade_logger - INFO - [LOGGER] TradeID: efbd6cc9-fa47-4416-ae9f-dea8aa09b0cf. Начало обработки: SELL 93.0232558 OP/USDT
2025-06-22 14:16:51 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:16:52 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:19:18 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 14:19:18 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 14:19:18 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 14:19:19 - sheets_service - INFO - [CACHE] Кэш для листа 'Fifo_Log' очищен.
2025-06-22 14:19:19 - sheets_service - ERROR - Ошибка пакетного обновления FIFO полей: 'fifoconsumedqty' is not in list
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/deal_tracker/sheets_service.py", line 494, in batch_update_trades_fifo_fields
    consumed_qty_col = headers_lower.index('fifoconsumedqty') + 1
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 'fifoconsumedqty' is not in list
2025-06-22 14:20:22 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 14:20:22 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 14:20:22 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 14:20:24 - sheets_service - ERROR - Ошибка пакетного обновления FIFO полей: 'fifoconsumedqty' is not in list
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/deal_tracker/sheets_service.py", line 494, in batch_update_trades_fifo_fields
    consumed_qty_col = headers_lower.index('fifoconsumedqty') + 1
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 'fifoconsumedqty' is not in list
2025-06-22 14:40:19 - trade_logger - INFO - [LOGGER] TradeID: e515ac86-dd00-4cb8-b668-d9236d8031ec. Начало обработки: BUY 158.275316 ARKM/USDT
2025-06-22 14:40:19 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:40:19 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:40:20 - sheets_service - INFO - [CACHE] Кэш для листа 'Core_Trades' очищен.
2025-06-22 14:40:20 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:40:21 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:40:21 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:40:22 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:40:22 - trade_logger - INFO - [LOGGER] TradeID: e515ac86-dd00-4cb8-b668-d9236d8031ec. Сделка успешно залогирована.
2025-06-22 14:40:40 - trade_logger - INFO - [LOGGER] TradeID: b0ff4eed-bd30-47f5-8022-bb136e730f15. Начало обработки: SELL 158.275316 ARKM/USDT
2025-06-22 14:40:40 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:40:41 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:40:42 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:40:42 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:40:42 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:40:42 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_application.py", line 1234, in process_update
    await coroutine
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_basehandler.py", line 157, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 141, in sell_command
    await trade_command(update, context, trade_type='SELL')
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 64, in wrapped
    return await func(update, context, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 126, in trade_command
    success, message = log_trade(
                       ^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 103, in log_trade
    _sync_open_position(trade, all_positions, all_balances)
  File "/root/apps/deal_tracker_v1.0/deal_tracker/trade_logger.py", line 145, in _sync_open_position
    change = trade.amount if trade.trade_type == 'BUY' else -change
                                                             ^^^^^^
UnboundLocalError: cannot access local variable 'change' where it is not associated with a value
2025-06-22 14:49:33 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 14:49:33 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 14:49:33 - __main__ - INFO - Бот остановлен.
2025-06-22 14:49:34 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 14:49:34 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 14:49:34 - telegram.ext.Application - INFO - Application started
2025-06-22 14:50:18 - trade_logger - INFO - [LOGGER] TradeID: 6849a764-25ae-4940-a132-e424e93641ac. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 14:50:18 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:50:21 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:51:26 - trade_logger - INFO - [LOGGER] TradeID: a751b80f-3e33-41bf-b268-c1152939c080. Начало обработки: BUY 5.3648459 LTC/USDT
2025-06-22 14:51:26 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:51:27 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 14:51:29 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 14:51:29 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 14:51:29 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 14:51:30 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 14:51:30 - trade_logger - INFO - [LOGGER] TradeID: a751b80f-3e33-41bf-b268-c1152939c080. Сделка успешно залогирована.
2025-06-22 14:51:45 - trade_logger - INFO - [LOGGER] TradeID: 66cb3ca5-01a0-4a6a-ba34-0ef7ff62a586. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 14:51:45 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 14:51:46 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:02:02 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 15:02:02 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 15:02:02 - telegram.ext.Application - INFO - Application started
2025-06-22 15:02:36 - trade_logger - INFO - [LOGGER] TradeID: cb36d717-0212-49d6-a05e-14ab866ab187. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 15:02:36 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 15:02:37 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:10:13 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 15:10:13 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 15:10:13 - __main__ - INFO - Бот остановлен.
2025-06-22 15:10:14 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 15:10:14 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 15:10:14 - telegram.ext.Application - INFO - Application started
2025-06-22 15:10:28 - trade_logger - INFO - [LOGGER] TradeID: ca7bdd40-d5a9-4ecb-a6a9-ce687a623acb. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 15:10:28 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 15:10:29 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:16:25 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 15:16:25 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 15:16:25 - telegram.ext.Application - INFO - Application started
2025-06-22 15:16:40 - trade_logger - INFO - [LOGGER] TradeID: 014a62b9-cf56-474d-b2e6-5dbe121b0d40. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 15:16:40 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 15:16:41 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:21:30 - trade_logger - INFO - [LOGGER] TradeID: 85545b1c-a4c1-4a3c-8cad-d6ebd95ad714. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 15:21:30 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 15:21:30 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:22:46 - trade_logger - INFO - [LOGGER] TradeID: f2b8a763-fed7-4461-bf8c-680662462c1b. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 15:22:46 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 15:22:46 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:24:44 - trade_logger - INFO - [LOGGER] TradeID: 93e357a0-70cd-4c03-ba83-e9d76f1dce41. Начало обработки: BUY 5.3648459 LTC/USDT
2025-06-22 15:24:44 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 15:24:45 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:24:47 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 15:24:47 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 15:24:48 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 15:24:48 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 15:24:48 - trade_logger - INFO - [LOGGER] TradeID: 93e357a0-70cd-4c03-ba83-e9d76f1dce41. Сделка успешно залогирована.
2025-06-22 15:25:13 - trade_logger - INFO - [LOGGER] TradeID: c06f2dfc-7d45-464a-98b9-0d31184e81dd. Начало обработки: SELL 5.3648459 LTC/USDT
2025-06-22 15:25:13 - sheets_service - INFO - [API_CALL] Кэш для 'Account_Balances' пуст или устарел. Запрос к Google API...
2025-06-22 15:25:14 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:25:15 - sheets_service - INFO - [SHEETS_BALANCE] Запущено обновление балансов для 2 изменений.
2025-06-22 15:25:16 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Account_Balances'.
2025-06-22 15:25:16 - sheets_service - INFO - [CACHE] Кэш для листа 'Account_Balances' очищен.
2025-06-22 15:25:16 - sheets_service - INFO - [CACHE] Кэш для листа 'Open_Positions' очищен.
2025-06-22 15:25:16 - trade_logger - INFO - [LOGGER] TradeID: c06f2dfc-7d45-464a-98b9-0d31184e81dd. Сделка успешно залогирована.
2025-06-22 15:28:00 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 15:28:00 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 15:28:00 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 15:28:03 - sheets_service - INFO - [CACHE] Кэш для листа 'Core_Trades' очищен.
2025-06-22 15:28:03 - analytics_service - INFO - FIFO: обработано 5 продаж, создано 6 логов.
2025-06-22 15:28:03 - sheets_service - INFO - [API_CALL] Кэш для 'Fifo_Log' пуст или устарел. Запрос к Google API...
2025-06-22 15:28:03 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:28:04 - sheets_service - INFO - [API_CALL] Кэш для 'Fund_Movements' пуст или устарел. Запрос к Google API...
2025-06-22 15:28:05 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 15:28:06 - analytics_service - INFO - Аналитика успешно обновлена. FIFO: обработано 5 продаж, создано 6 логов.
2025-06-22 15:50:28 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 15:50:28 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 15:50:28 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 15:50:29 - sheets_service - INFO - [API_CALL] Кэш для 'Fifo_Log' пуст или устарел. Запрос к Google API...
2025-06-22 15:50:30 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 15:50:31 - sheets_service - INFO - [API_CALL] Кэш для 'Fund_Movements' пуст или устарел. Запрос к Google API...
2025-06-22 15:50:31 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Core_Trades'.
2025-06-22 15:50:33 - analytics_service - INFO - Аналитика успешно обновлена. Нет новых продаж для FIFO обработки.
2025-06-22 15:58:53 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 15:58:53 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 15:58:53 - telegram.ext.Application - INFO - Application started
2025-06-22 15:59:25 - telegram_handlers - INFO - [DIAGNOSTIC] Запущена команда /testwrite
2025-06-22 15:59:25 - telegram_handlers - CRITICAL - [DIAGNOSTIC] Неперехваченное исключение в /testwrite: AnalyticsData.__init__() missing 12 required positional arguments: 'total_trades_closed', 'winning_trades_closed', 'losing_trades_closed', 'win_rate_percent', 'average_win_amount', 'average_loss_amount', 'profit_factor', 'expectancy', 'total_commissions_paid', 'net_invested_funds', 'portfolio_current_value', and 'total_equity'
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/deal_tracker/telegram_handlers.py", line 297, in test_write_command
    test_data = AnalyticsData(
                ^^^^^^^^^^^^^^
TypeError: AnalyticsData.__init__() missing 12 required positional arguments: 'total_trades_closed', 'winning_trades_closed', 'losing_trades_closed', 'win_rate_percent', 'average_win_amount', 'average_loss_amount', 'profit_factor', 'expectancy', 'total_commissions_paid', 'net_invested_funds', 'portfolio_current_value', and 'total_equity'
2025-06-22 16:06:11 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 16:06:11 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 16:06:11 - __main__ - INFO - Бот остановлен.
2025-06-22 16:06:12 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 16:06:12 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 16:06:12 - telegram.ext.Application - INFO - Application started
2025-06-22 16:06:19 - telegram_handlers - INFO - [DIAGNOSTIC] Запущена команда /testwrite (v2)
2025-06-22 16:06:20 - telegram_handlers - INFO - [DIAGNOSTIC] Тестовая запись прошла успешно.
2025-06-22 16:16:15 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 16:16:15 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 16:16:15 - __main__ - INFO - Бот остановлен.
2025-06-22 16:16:16 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 16:16:16 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 16:16:16 - telegram.ext.Application - INFO - Application started
2025-06-22 16:16:24 - telegram_handlers - INFO - [DIAGNOSTIC] Запущена команда /testwrite (v2)
2025-06-22 16:16:25 - sheets_service - INFO - [DIAGNOSTIC_WRITE] Попытка записи в лист 'Analytics'. Данные: ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '']
2025-06-22 16:16:25 - telegram_handlers - INFO - [DIAGNOSTIC] Тестовая запись прошла успешно.
2025-06-22 16:31:29 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 16:31:29 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 16:31:29 - telegram.ext.Application - INFO - Application started
2025-06-22 16:31:40 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 16:31:40 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 16:31:40 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 16:31:42 - sheets_service - INFO - [API_CALL] Кэш для 'Fifo_Log' пуст или устарел. Запрос к Google API...
2025-06-22 16:31:43 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 16:31:44 - sheets_service - INFO - [API_CALL] Кэш для 'Fund_Movements' пуст или устарел. Запрос к Google API...
2025-06-22 16:31:45 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 16:31:47 - sheets_service - INFO - [DIAGNOSTIC_WRITE] Попытка записи в лист 'Analytics'. Данные: ['2025-06-22 16:31:46', '133,326414405', '108,055555899', '241,381970304', '12', '7', '0', '58,33333333333333333333333333', '19,04663062928571428571428571', '0', 'Infinity', '0', '0', '0', '3621,56036226559', '241,381970304']
2025-06-22 16:31:47 - analytics_service - INFO - Аналитика успешно обновлена. Нет новых продаж для FIFO обработки.
2025-06-22 16:41:54 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 16:41:54 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 16:41:54 - telegram.ext.Application - INFO - Application started
2025-06-22 16:42:03 - analytics_service - INFO - Запуск полного обновления аналитики...
2025-06-22 16:42:03 - analytics_service - INFO - Запуск FIFO обработки...
2025-06-22 16:42:03 - sheets_service - INFO - [API_CALL] Кэш для 'Core_Trades' пуст или устарел. Запрос к Google API...
2025-06-22 16:42:04 - sheets_service - INFO - [API_CALL] Кэш для 'Fifo_Log' пуст или устарел. Запрос к Google API...
2025-06-22 16:42:05 - sheets_service - INFO - [API_CALL] Кэш для 'Open_Positions' пуст или устарел. Запрос к Google API...
2025-06-22 16:42:06 - sheets_service - INFO - [API_CALL] Кэш для 'Fund_Movements' пуст или устарел. Запрос к Google API...
2025-06-22 16:42:08 - sheets_service - INFO - [CACHE] Возврат кэшированных данных для 'Core_Trades'.
2025-06-22 16:42:09 - analytics_service - INFO - Аналитика успешно обновлена. Нет новых продаж для FIFO обработки.
2025-06-22 18:17:10 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 18:17:10 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 18:17:10 - __main__ - INFO - Бот остановлен.
2025-06-22 18:17:10 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 18:17:10 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 18:17:11 - telegram.ext.Application - INFO - Application started
2025-06-22 18:57:24 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-22 18:57:24 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-22 18:57:24 - __main__ - INFO - Бот остановлен.
2025-06-22 18:57:25 - __main__ - INFO - Запуск Telegram бота...
2025-06-22 18:57:25 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-22 18:57:25 - telegram.ext.Application - INFO - Application started
2025-06-25 16:28:05 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-25 16:28:05 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-25 16:28:05 - __main__ - INFO - Бот остановлен.
2025-06-25 16:28:07 - __main__ - INFO - Запуск Telegram бота...
2025-06-25 16:28:07 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-25 16:28:07 - telegram.ext.Application - INFO - Application started
2025-06-25 16:54:13 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-25 16:54:13 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-25 16:54:13 - __main__ - INFO - Бот остановлен.
2025-06-25 16:54:14 - __main__ - INFO - Запуск Telegram бота...
2025-06-25 16:54:14 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-25 16:54:14 - telegram.ext.Application - INFO - Application started
2025-06-25 16:57:22 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-25 16:57:22 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-25 16:57:22 - __main__ - INFO - Бот остановлен.
2025-06-25 16:57:23 - __main__ - INFO - Запуск Telegram бота...
2025-06-25 16:57:23 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-25 16:57:23 - telegram.ext.Application - INFO - Application started
2025-06-25 17:00:08 - __main__ - INFO - Запуск Telegram бота...
2025-06-25 17:00:08 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-25 17:00:08 - telegram.ext.Application - INFO - Application started
2025-06-25 17:19:13 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-25 17:19:13 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-25 17:19:13 - __main__ - INFO - Бот остановлен.
2025-06-25 17:19:15 - __main__ - INFO - Запуск Telegram бота...
2025-06-25 17:19:15 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-25 17:19:15 - telegram.ext.Application - INFO - Application started
2025-06-25 17:29:35 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-25 17:29:35 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-25 17:29:35 - __main__ - INFO - Бот остановлен.
2025-06-25 17:29:36 - __main__ - INFO - Запуск Telegram бота...
2025-06-25 17:29:36 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-25 17:29:36 - telegram.ext.Application - INFO - Application started
2025-06-26 14:00:07 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 14:00:07 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 14:00:07 - __main__ - INFO - Бот остановлен.
2025-06-26 14:00:08 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 14:00:08 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 14:00:08 - telegram.ext.Application - INFO - Application started
2025-06-26 14:08:19 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 14:08:19 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 14:08:19 - __main__ - INFO - Бот остановлен.
2025-06-26 14:08:20 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 14:08:20 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 14:08:20 - telegram.ext.Application - INFO - Application started
2025-06-26 14:16:06 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 14:16:06 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 14:16:06 - __main__ - INFO - Бот остановлен.
2025-06-26 14:16:07 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 14:16:07 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 14:16:07 - telegram.ext.Application - INFO - Application started
2025-06-26 14:38:34 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 14:38:34 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 14:38:34 - __main__ - INFO - Бот остановлен.
2025-06-26 14:38:36 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 14:38:36 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 14:38:36 - telegram.ext.Application - INFO - Application started
2025-06-26 15:15:34 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 15:15:34 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 15:15:34 - __main__ - INFO - Бот остановлен.
2025-06-26 15:15:36 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 15:15:36 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 15:15:36 - telegram.ext.Application - INFO - Application started
2025-06-26 15:18:11 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 15:18:11 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 15:18:11 - telegram.ext.Application - INFO - Application started
2025-06-26 15:20:46 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 15:20:46 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 15:20:46 - telegram.ext.Application - INFO - Application started
2025-06-26 15:34:46 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 15:34:46 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 15:34:46 - __main__ - INFO - Бот остановлен.
2025-06-26 15:34:47 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 15:34:47 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 15:34:47 - telegram.ext.Application - INFO - Application started
2025-06-26 16:02:57 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 16:02:58 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 16:02:58 - __main__ - INFO - Бот остановлен.
2025-06-26 16:14:27 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 16:14:27 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 16:14:27 - telegram.ext.Application - INFO - Application started
2025-06-26 16:19:13 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 16:19:13 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 16:19:13 - __main__ - INFO - Бот остановлен.
2025-06-26 16:19:14 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 16:19:14 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 16:19:14 - telegram.ext.Application - INFO - Application started
2025-06-26 16:24:49 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 16:24:49 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 16:24:49 - __main__ - INFO - Бот остановлен.
2025-06-26 16:24:51 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 16:24:51 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 16:24:51 - telegram.ext.Application - INFO - Application started
2025-06-26 16:31:41 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 16:31:41 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 16:31:41 - telegram.ext.Application - INFO - Application started
2025-06-26 16:46:06 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 16:46:06 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 16:46:06 - telegram.ext.Application - INFO - Application started
2025-06-26 17:03:54 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 17:03:54 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 17:03:54 - __main__ - INFO - Бот остановлен.
2025-06-26 17:03:55 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 17:03:55 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 17:03:56 - telegram.ext.Application - INFO - Application started
2025-06-26 17:05:11 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 17:05:11 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 17:05:11 - __main__ - INFO - Бот остановлен.
2025-06-26 17:05:12 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 17:05:12 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 17:05:12 - telegram.ext.Application - INFO - Application started
2025-06-26 17:13:46 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 17:13:46 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 17:13:46 - telegram.ext.Application - INFO - Application started
2025-06-26 17:22:56 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 17:22:56 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 17:22:56 - __main__ - INFO - Бот остановлен.
2025-06-26 17:22:57 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 17:22:57 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 17:22:57 - telegram.ext.Application - INFO - Application started
2025-06-26 17:35:22 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 17:35:22 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 17:35:22 - __main__ - INFO - Бот остановлен.
2025-06-26 17:35:24 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 17:35:24 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 17:35:24 - telegram.ext.Application - INFO - Application started
2025-06-26 17:41:24 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 17:41:24 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 17:41:24 - __main__ - INFO - Бот остановлен.
2025-06-26 17:41:26 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 17:41:26 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 17:41:26 - telegram.ext.Application - INFO - Application started
2025-06-26 17:48:23 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 17:48:23 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 17:48:23 - __main__ - INFO - Бот остановлен.
2025-06-26 17:48:24 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 17:48:24 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 17:48:24 - telegram.ext.Application - INFO - Application started
2025-06-26 19:13:58 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 19:13:58 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 19:13:58 - telegram.ext.Application - INFO - Application started
2025-06-26 19:15:05 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 19:15:05 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 19:15:05 - __main__ - INFO - Бот остановлен.
2025-06-26 19:15:06 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 19:15:06 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 19:15:06 - telegram.ext.Application - INFO - Application started
2025-06-26 19:19:31 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-26 19:19:31 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-26 19:19:31 - __main__ - INFO - Бот остановлен.
2025-06-26 19:19:32 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 19:19:32 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 19:19:32 - telegram.ext.Application - INFO - Application started
2025-06-26 19:25:17 - __main__ - INFO - Запуск Telegram бота...
2025-06-26 19:25:17 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-26 19:25:17 - telegram.ext.Application - INFO - Application started
2025-06-27 01:10:43 - telegram.ext.Updater - ERROR - Error while getting Updates: Bad Gateway
2025-06-27 01:10:43 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_updater.py", line 688, in _network_loop_retry
    if not await action_cb():
           ^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_updater.py", line 384, in polling_action_cb
    raise exc
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_updater.py", line 373, in polling_action_cb
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_extbot.py", line 558, in get_updates
    updates = await super().get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/_bot.py", line 525, in decorator
    result = await func(self, *args, **kwargs)  # skipcq: PYL-E1102
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/_bot.py", line 3584, in get_updates
    await self._post(
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/_bot.py", line 613, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_extbot.py", line 340, in _do_post
    return await super()._do_post(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/_bot.py", line 641, in _do_post
    return await request.post(
           ^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 200, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 383, in _request_wrapper
    raise NetworkError(description or "Bad Gateway")
telegram.error.NetworkError: Bad Gateway
2025-06-27 01:10:44 - telegram.ext.Updater - ERROR - Error while getting Updates: Bad Gateway
2025-06-27 01:10:44 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_updater.py", line 688, in _network_loop_retry
    if not await action_cb():
           ^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_updater.py", line 384, in polling_action_cb
    raise exc
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_updater.py", line 373, in polling_action_cb
    updates = await self.bot.get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_extbot.py", line 558, in get_updates
    updates = await super().get_updates(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/_bot.py", line 525, in decorator
    result = await func(self, *args, **kwargs)  # skipcq: PYL-E1102
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/_bot.py", line 3584, in get_updates
    await self._post(
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/_bot.py", line 613, in _post
    return await self._do_post(
           ^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/ext/_extbot.py", line 340, in _do_post
    return await super()._do_post(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/_bot.py", line 641, in _do_post
    return await request.post(
           ^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 200, in post
    result = await self._request_wrapper(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/apps/deal_tracker_v1.0/.venv/lib/python3.12/site-packages/telegram/request/_baserequest.py", line 383, in _request_wrapper
    raise NetworkError(description or "Bad Gateway")
telegram.error.NetworkError: Bad Gateway
2025-06-27 14:08:09 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 14:08:09 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 14:08:09 - __main__ - INFO - Бот остановлен.
2025-06-27 14:09:31 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 14:09:31 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 14:09:31 - telegram.ext.Application - INFO - Application started
2025-06-27 14:26:56 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 14:26:56 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 14:26:56 - telegram.ext.Application - INFO - Application started
2025-06-27 14:32:15 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 14:32:15 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 14:32:15 - __main__ - INFO - Бот остановлен.
2025-06-27 14:32:17 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 14:32:17 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 14:32:17 - telegram.ext.Application - INFO - Application started
2025-06-27 14:47:43 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 14:47:43 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 14:47:43 - telegram.ext.Application - INFO - Application started
2025-06-27 14:56:41 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 14:56:41 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 14:56:41 - __main__ - INFO - Бот остановлен.
2025-06-27 14:56:42 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 14:56:42 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 14:56:42 - telegram.ext.Application - INFO - Application started
2025-06-27 14:57:26 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 14:57:26 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 14:57:26 - telegram.ext.Application - INFO - Application started
2025-06-27 15:02:31 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 15:02:31 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 15:02:31 - telegram.ext.Application - INFO - Application started
2025-06-27 15:23:28 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 15:23:28 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 15:23:28 - __main__ - INFO - Бот остановлен.
2025-06-27 15:23:29 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 15:23:29 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 15:23:29 - telegram.ext.Application - INFO - Application started
2025-06-27 15:29:54 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 15:29:54 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 15:29:54 - telegram.ext.Application - INFO - Application started
2025-06-27 15:48:36 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 15:48:36 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 15:48:36 - __main__ - INFO - Бот остановлен.
2025-06-27 15:48:37 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 15:48:37 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 15:48:37 - telegram.ext.Application - INFO - Application started
2025-06-27 15:56:36 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 15:56:36 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 15:56:36 - __main__ - INFO - Бот остановлен.
2025-06-27 15:56:37 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 15:56:37 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 15:56:37 - telegram.ext.Application - INFO - Application started
2025-06-27 16:01:06 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:01:06 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:01:06 - __main__ - INFO - Бот остановлен.
2025-06-27 16:01:07 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:01:07 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:01:07 - telegram.ext.Application - INFO - Application started
2025-06-27 16:07:12 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:07:12 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:07:12 - telegram.ext.Application - INFO - Application started
2025-06-27 16:11:50 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:11:50 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:11:50 - __main__ - INFO - Бот остановлен.
2025-06-27 16:11:51 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:11:51 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:11:51 - telegram.ext.Application - INFO - Application started
2025-06-27 16:17:46 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:17:46 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:17:46 - __main__ - INFO - Бот остановлен.
2025-06-27 16:17:47 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:17:47 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:17:47 - telegram.ext.Application - INFO - Application started
2025-06-27 16:22:31 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:22:31 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:22:31 - __main__ - INFO - Бот остановлен.
2025-06-27 16:22:32 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:22:32 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:22:32 - telegram.ext.Application - INFO - Application started
2025-06-27 16:26:06 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:26:06 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:26:06 - __main__ - INFO - Бот остановлен.
2025-06-27 16:26:07 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:26:07 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:26:07 - telegram.ext.Application - INFO - Application started
2025-06-27 16:32:41 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:32:41 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:32:41 - telegram.ext.Application - INFO - Application started
2025-06-27 16:36:11 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:36:11 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:36:11 - __main__ - INFO - Бот остановлен.
2025-06-27 16:36:12 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:36:12 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:36:12 - telegram.ext.Application - INFO - Application started
2025-06-27 16:38:26 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:38:26 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:38:26 - telegram.ext.Application - INFO - Application started
2025-06-27 16:44:41 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:44:41 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:44:41 - __main__ - INFO - Бот остановлен.
2025-06-27 16:44:42 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:44:42 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:44:42 - telegram.ext.Application - INFO - Application started
2025-06-27 16:51:07 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:51:07 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:51:07 - __main__ - INFO - Бот остановлен.
2025-06-27 16:51:08 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:51:08 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:51:08 - telegram.ext.Application - INFO - Application started
2025-06-27 16:54:32 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 16:54:32 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 16:54:32 - __main__ - INFO - Бот остановлен.
2025-06-27 16:55:33 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:55:33 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:55:33 - telegram.ext.Application - INFO - Application started
2025-06-27 16:59:57 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 16:59:57 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 16:59:57 - telegram.ext.Application - INFO - Application started
2025-06-27 17:04:15 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-27 17:04:15 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-27 17:04:15 - __main__ - INFO - Бот остановлен.
2025-06-27 17:04:16 - __main__ - INFO - Запуск Telegram бота...
2025-06-27 17:04:16 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-27 17:04:16 - telegram.ext.Application - INFO - Application started
2025-06-28 15:23:17 - __main__ - INFO - Запуск Telegram бота...
2025-06-28 15:23:17 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-28 15:23:17 - telegram.ext.Application - INFO - Application started
2025-06-28 15:29:08 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-28 15:29:08 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-28 15:29:08 - __main__ - INFO - Бот остановлен.
2025-06-28 15:29:09 - __main__ - INFO - Запуск Telegram бота...
2025-06-28 15:29:09 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-28 15:29:09 - telegram.ext.Application - INFO - Application started
2025-06-28 15:36:45 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-28 15:36:45 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-28 15:36:45 - __main__ - INFO - Бот остановлен.
2025-06-28 15:36:46 - __main__ - INFO - Запуск Telegram бота...
2025-06-28 15:36:46 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-28 15:36:46 - telegram.ext.Application - INFO - Application started
2025-06-28 16:02:26 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-06-28 16:02:26 - telegram.ext.Application - INFO - Application.stop() complete
2025-06-28 16:02:27 - __main__ - INFO - Бот остановлен.
2025-06-28 16:02:27 - __main__ - INFO - Запуск Telegram бота...
2025-06-28 16:02:28 - __main__ - INFO - Бот запущен и готов принимать команды.
2025-06-28 16:02:28 - telegram.ext.Application - INFO - Application started
